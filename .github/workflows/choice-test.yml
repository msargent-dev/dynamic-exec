name: Choice Test Workflow
on:
  workflow_dispatch:
    inputs:
      general-repo:
        type: string
        description: "Repository to checkout for a general deployment. Required when 'general' deployment is picked, is ignored otherwise."
        default: ""
      general-branch:
        type: string
        description: "Branch to checkout for a general deployment. Required when 'general' deployment is picked, is ignored otherwise."
        default: ""
      general-command:
        type: string
        description: "Command to run for a general deployment. Required when 'general' deployment is picked, is ignored otherwise."
        default: ""
      bundle-command:
        type: string
        description: "Command to run for a bundle deployment. Required when 'bundle' deployment is picked, is ignored otherwise."
        default: ""

jobs:
  run-workflow:
    runs-on: ubuntu-latest  # Or choose an appropriate runner
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4  # This step checks out your repository.

      - name: Validate inputs
        run: |
          general_deployment=[[ -n "${{ inputs.general-repo }}" && -n  "${{ inputs.general-branch }}" && "${{ inputs.general-command }}" ]]
          bundle_deployment=[[ -n "${{ inputs.bundle-command }}" ]]
          
          echo $general_deployment
          echo $bundle_deployment

#      - name: Checkout Repo
#        if: ${{ inputs.deployment-type == 'general' }}
#        uses: actions/checkout@v4
#        with:
#          repository: ${{ inputs.general-repo }}
#          ref: ${{ inputs.general-branch }}
#
#      - name: List Directory and Run Command
#        if: ${{ inputs.deployment-type == 'general' }}
#        run: |
#          ls *
#          eval "${{ inputs.general-command }}"
#
#      - name: Run Bundle Command
#        if: ${{ inputs.deployment-type == 'bundle' }}
#        run: |
#          eval "${{ inputs.bundle-command }}"